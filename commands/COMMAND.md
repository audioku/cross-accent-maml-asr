CUDA_VISIBLE_DEVICES=2 python3 train.py --train-manifest-list data/manifests/libri_train_manifest.csv --valid-manifest-list data/manifests/libri_val_manifest.csv --cuda --batch-size 16 --labels-path data/labels/librispeech_labels.json --lr 1e-4 --name libri_1000hr_1024_enc2_dec4 --save-folder save/ --save-every 10 --feat_extractor vgg_cnn --dropout 0.1 --num-enc-layers 2 --num-dec-layers 4 --num-heads 8 --dim-model 512 --dim-key 64 --dim-value 64 --dim-input 5120 --dim-inner 1024 --dim-emb 512 --shuffle --min-lr 0 --k-lr 1 --early-stop cer,200 --src-max-len 5000 --tgt-max-len 2500

CUDA_VISIBLE_DEVICES=1 python3 train.py --train-manifest-list data/manifests/libri_train_manifest.csv --valid-manifest-list data/manifests/libri_val_manifest.csv --cuda --batch-size 16 --labels-path data/labels/librispeech_labels.json --lr 1e-4 --name libri_1000hr_512_enc2_dec4 --save-folder save/ --save-every 10 --feat_extractor vgg_cnn --dropout 0.1 --num-enc-layers 2 --num-dec-layers 4 --num-heads 8 --dim-model 512 --dim-key 64 --dim-value 64 --dim-input 5120 --dim-inner 512 --dim-emb 512 --shuffle --min-lr 0 --k-lr 1 --early-stop cer,200 --src-max-len 5000 --tgt-max-len 2500

# meta-training
CUDA_VISIBLE_DEVICES=1 python3 meta_train.py --train-manifest-list data/manifests/libri_train_manifest.csv --valid-manifest-list data/manifests/libri_val_manifest.csv --cuda --k-train 16 --k-valid 16 --labels-path data/labels/librispeech_labels.json --lr 1e-4 --name meta_test --save-folder save/ --save-every 10 --feat_extractor vgg_cnn --dropout 0.1 --num-enc-layers 2 --num-dec-layers 4 --num-heads 8 --dim-model 512 --dim-key 64 --dim-value 64 --dim-input 5120 --dim-inner 512 --dim-emb 512 --early-stop cer,200 --src-max-len 5000 --tgt-max-len 2500 --evaluate-every 100

CUDA_VISIBLE_DEVICES=1 python3 meta_train.py --train-manifest-list data/manifests/libri_train_manifest.csv data/manifests/libri_train_manifest.csv data/manifests/libri_train_manifest.csv data/manifests/libri_train_manifest.csv --valid-manifest-list data/manifests/libri_val_manifest.csv --cuda --k-train 8 --k-valid 8 --labels-path data/labels/librispeech_labels.json --lr 1e-4 --name meta_test --save-folder save/ --save-every 10 --feat_extractor vgg_cnn --dropout 0.1 --num-enc-layers 2 --num-dec-layers 4 --num-heads 8 --dim-model 512 --dim-key 64 --dim-value 64 --dim-input 5120 --dim-inner 512 --dim-emb 512 --early-stop cer,200 --src-max-len 5000 --tgt-max-len 2500 --evaluate-every 1000 --copy-gra

# analyse dataset
CUDA_VISIBLE_DEVICES=7 python3 analyze.py \
--train-manifest-list data/manifests/libri_train_manifest.csv data/manifests/cv-valid-train_manifest.csv data/manifests/seame_phaseII_train_manifest.csv data/manifests/seame_phaseII_8khz_train_manifest.csv data/manifests/hkust_16khz_train_manifest.csv \
--valid-manifest-list data/manifests/libri_val_manifest.csv  data/manifests/cv-valid-dev_manifest.csv data/manifests/seame_phaseII_val_manifest.csv data/manifests/seame_phaseII_8khz_val_manifest.csv data/manifests/hkust_16khz_val_manifest.csv \
--test-manifest-list data/manifests/libri_test_clean_manifest.csv data/manifests/cv-valid-test_manifest.csv data/manifests/seame_phaseII_test_manifest.csv data/manifests/seame_phaseII_8khz_test_manifest.csv \
--labels-path data/labels/hkust_seame_labels.json --cuda --batch-size 64 --lr 1e-4 --name meta_test --save-folder save/ --save-every 10 --feat_extractor vgg_cnn --dropout 0.1 --num-enc-layers 4 --num-dec-layers 4 --num-heads 8 --dim-model 512 --dim-key 64 --dim-value 64 --dim-input 5120 --dim-inner 512 --dim-emb 512 --early-stop cer,200 --src-max-len 5000 --tgt-max-len 2500 --evaluate-every 1000 | tee anal.log
